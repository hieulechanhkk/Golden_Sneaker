{"ast":null,"code":"import _objectSpread from\"/Users/nguyenhieu/Documents/Data/Golden_Sneaker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useRef,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Trash from\"../../../assets/trash.png\";import{decrease,deleteCart,increase,setCartData,setScroll}from\"../../../redux/actions/cartActions\";import{motion}from\"framer-motion\";import Scroll from\"../../Animation/Scroll\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListItem=function ListItem(){var dispatch=useDispatch();var data=useSelector(function(state){return state.cart.cart;});var scroll=useSelector(function(state){return state.cart.scroll;});var newItemRef=useRef(null);var handleIncrease=function handleIncrease(index,data){dispatch(setScroll(false));dispatch(increase({index:index,data:_objectSpread(_objectSpread({},data),{},{count:data.count+1})}));};var handleDecrease=function handleDecrease(index,data){var count=data.count;dispatch(setScroll(false));if(data.count-1<=0)dispatch(deleteCart(index));else{dispatch(decrease({index:index,data:_objectSpread(_objectSpread({},data),{},{count:count-1})}));}};var scrollIntoNewItem=function scrollIntoNewItem(){var _newItemRef$current;(_newItemRef$current=newItemRef.current)===null||_newItemRef$current===void 0?void 0:_newItemRef$current.scrollIntoView({block:\"end\",behavior:\"smooth\"});};useEffect(function(){if(scroll)scrollIntoNewItem();},[data]);var showItem=function showItem(){return data.length>0?data.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between gap-8\",children:[/*#__PURE__*/_jsx(Scroll,{scroll:\"translateX(-300px)\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-full w-24 h-24 shadow-md\",style:{backgroundColor:\"\".concat(item.color)},children:/*#__PURE__*/_jsx(\"div\",{className:\" w-32 h-36 -translate-x-4 -translate-y-6\",children:/*#__PURE__*/_jsx(\"img\",{className:\" -rotate-[30deg] w-full h-full\",src:item.image,alt:\"Cart Item Image\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"gap-2 flex flex-col flex-1\",children:[/*#__PURE__*/_jsx(Scroll,{scroll:\"translateX(1000px)\",children:/*#__PURE__*/_jsx(\"h4\",{children:item.name})}),/*#__PURE__*/_jsx(Scroll,{scroll:\"translateX(700px)\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"$\",parseFloat(item.price).toFixed(2)]})}),/*#__PURE__*/_jsx(Scroll,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.1},transition:{type:\"spring\",stiffness:400,damping:10},whileTap:{scale:0.9},onClick:function onClick(){handleDecrease(index,item);},className:\" select-none cursor-pointer rounded-full flex justify-center items-center w-8 h-8 text-center hover:shadow-md font-extrabold text-xl bg-lightGray\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:item.count}),/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.1},transition:{type:\"spring\",stiffness:400,damping:10},whileTap:{scale:0.9},onClick:function onClick(){handleIncrease(index,item);},className:\" select-none cursor-pointer rounded-full flex justify-center items-center w-8 h-8 text-center hover:shadow-md font-extrabold text-xl bg-lightGray\",children:\"+\"})]}),/*#__PURE__*/_jsx(motion.div,{whileTap:{scale:0.9,transition:1},className:\"rounded-full p-2 bg-yellow cursor-pointer hover:shadow-md\",onClick:function onClick(){dispatch(setScroll(false));dispatch(deleteCart(index));},children:/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4\",children:/*#__PURE__*/_jsx(\"img\",{src:Trash,alt:\"Trash logo\"})})})]})})]})]},index);}):/*#__PURE__*/_jsx(\"span\",{children:\"Your cart is empty\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\" overflow-y-scroll pb-8 flex flex-col gap-10 overflow-x-hidden h-5/6 hide-scrollbar\",children:[showItem(),/*#__PURE__*/_jsx(\"div\",{ref:newItemRef})]});};export default ListItem;","map":{"version":3,"names":["useEffect","useRef","useState","useDispatch","useSelector","Trash","decrease","deleteCart","increase","setCartData","setScroll","motion","Scroll","ListItem","dispatch","data","state","cart","scroll","newItemRef","handleIncrease","index","count","handleDecrease","scrollIntoNewItem","current","scrollIntoView","block","behavior","showItem","length","map","item","backgroundColor","color","image","name","parseFloat","price","toFixed","scale","type","stiffness","damping","transition"],"sources":["/Users/nguyenhieu/Documents/Data/Golden_Sneaker/src/components/Cart/ListItem/ListItem.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Trash from \"../../../assets/trash.png\";\nimport {\n  decrease,\n  deleteCart,\n  increase,\n  setCartData,\n  setScroll,\n} from \"../../../redux/actions/cartActions\";\nimport { motion } from \"framer-motion\";\nimport Scroll from \"../../Animation/Scroll\";\n\nconst ListItem = () => {\n  const dispatch = useDispatch();\n  const data = useSelector((state) => state.cart.cart);\n  const scroll = useSelector((state) => state.cart.scroll)\n  const newItemRef = useRef(null);\n  const handleIncrease = (index, data) => {\n    dispatch(setScroll(false))\n    dispatch(\n      increase({ index: index, data: { ...data, count: data.count + 1 } })\n    );\n  };\n  const handleDecrease = (index, data) => {\n    let count = data.count;\n    dispatch(setScroll(false))\n    if (data.count - 1 <= 0) dispatch(deleteCart(index));\n    else {\n      dispatch(decrease({ index: index, data: { ...data, count: count - 1 } }));\n    }\n  };\n  const scrollIntoNewItem = () => {\n    newItemRef.current?.scrollIntoView({\n      block: \"end\",\n      behavior: \"smooth\",\n    });\n  };\n  useEffect(() => {\n    if (scroll) scrollIntoNewItem();\n  }, [data]);\n  const showItem = () => {\n    return data.length > 0 ? (\n      data.map((item, index) => {\n        return (\n          <div key={index} className=\"flex items-center justify-between gap-8\">\n            <Scroll scroll=\"translateX(-300px)\">\n              <div\n                className=\"rounded-full w-24 h-24 shadow-md\"\n                style={{ backgroundColor: `${item.color}` }}\n              >\n                <div className=\" w-32 h-36 -translate-x-4 -translate-y-6\">\n                  <img\n                    className=\" -rotate-[30deg] w-full h-full\"\n                    src={item.image}\n                    alt=\"Cart Item Image\"\n                  />\n                </div>\n              </div>\n            </Scroll>\n            <div className=\"gap-2 flex flex-col flex-1\">\n              <Scroll scroll=\"translateX(1000px)\">\n                <h4>{item.name}</h4>\n              </Scroll>\n              <Scroll scroll=\"translateX(700px)\">\n                <h3>${parseFloat(item.price).toFixed(2)}</h3>\n              </Scroll>\n              <Scroll>\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"flex items-center gap-4\">\n                    <motion.div\n                      whileHover={{ scale: 1.1 }}\n                      transition={{\n                        type: \"spring\",\n                        stiffness: 400,\n                        damping: 10,\n                      }}\n                      whileTap={{ scale: 0.9 }}\n                      onClick={() => {\n                        handleDecrease(index, item);\n                      }}\n                      className=\" select-none cursor-pointer rounded-full flex justify-center items-center w-8 h-8 text-center hover:shadow-md font-extrabold text-xl bg-lightGray\"\n                    >\n                      -\n                    </motion.div>\n                    <span>{item.count}</span>\n                    <motion.div\n                      whileHover={{ scale: 1.1 }}\n                      transition={{\n                        type: \"spring\",\n                        stiffness: 400,\n                        damping: 10,\n                      }}\n                      whileTap={{ scale: 0.9 }}\n                      onClick={() => {\n                        handleIncrease(index, item);\n                      }}\n                      className=\" select-none cursor-pointer rounded-full flex justify-center items-center w-8 h-8 text-center hover:shadow-md font-extrabold text-xl bg-lightGray\"\n                    >\n                      +\n                    </motion.div>\n                  </div>\n                  <motion.div\n                    whileTap={{ scale: 0.9, transition: 1 }}\n                    className=\"rounded-full p-2 bg-yellow cursor-pointer hover:shadow-md\"\n                    onClick={() => {\n                      dispatch(setScroll(false))\n                      dispatch(deleteCart(index));\n                    }}\n                  >\n                    <div className=\"w-4 h-4\">\n                      <img src={Trash} alt=\"Trash logo\" />\n                    </div>\n                  </motion.div>\n                </div>\n              </Scroll>\n            </div>\n          </div>\n        );\n      })\n    ) : (\n      <span>Your cart is empty</span>\n    );\n  };\n  return (\n    <div className=\" overflow-y-scroll pb-8 flex flex-col gap-10 overflow-x-hidden h-5/6 hide-scrollbar\">\n      {showItem()}\n      <div ref={newItemRef}></div>\n    </div>\n  );\n};\n\nexport default ListItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}