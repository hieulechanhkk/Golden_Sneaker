{"ast":null,"code":"import _toConsumableArray from\"/Users/nguyenhieu/Documents/Data/Golden_Sneaker/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/nguyenhieu/Documents/Data/Golden_Sneaker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var _JSON$parse,_JSON$parse2;import*as Types from\"../../types/cartTypes\";var initialState={//SSR\ncart:(_JSON$parse=JSON.parse(localStorage.getItem(\"cart\")))!==null&&_JSON$parse!==void 0&&_JSON$parse.cart?(_JSON$parse2=JSON.parse(localStorage.getItem(\"cart\")))===null||_JSON$parse2===void 0?void 0:_JSON$parse2.cart:[],//CSR\nscroll:false};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case Types.SET_CART:return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),_toConsumableArray(action.payload.data.data))});case Types.ADD_TO_CART:localStorage.setItem(\"cart\",JSON.stringify(_objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[action.payload.data])})));return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[action.payload.data])});case Types.UPDATE.increase:var _cart=_toConsumableArray(state.cart);_cart[action.payload.data.index]=action.payload.data.data;localStorage.setItem(\"cart\",JSON.stringify(_objectSpread(_objectSpread({},state),{},{cart:_cart})));return _objectSpread(_objectSpread({},state),{},{cart:_cart});case Types.UPDATE.decrease:var __cart=_toConsumableArray(state.cart);__cart[action.payload.data.index]=action.payload.data.data;localStorage.setItem(\"cart\",JSON.stringify(_objectSpread(_objectSpread({},state),{},{cart:__cart})));return _objectSpread(_objectSpread({},state),{},{cart:__cart});case Types.DELETE:var ___cart=_toConsumableArray(state.cart);___cart.splice(action.payload.index,1);localStorage.setItem(\"cart\",JSON.stringify(_objectSpread(_objectSpread({},state),{},{cart:___cart})));return _objectSpread(_objectSpread({},state),{},{cart:___cart});case Types.SET_SCROLL:return _objectSpread(_objectSpread({},state),{},{scroll:action.payload.toggle});default:return state;}};export default cartReducer;","map":{"version":3,"names":["Types","initialState","cart","JSON","parse","localStorage","getItem","scroll","cartReducer","state","action","type","SET_CART","payload","data","ADD_TO_CART","setItem","stringify","UPDATE","increase","_cart","index","decrease","__cart","DELETE","___cart","splice","SET_SCROLL","toggle"],"sources":["/Users/nguyenhieu/Documents/Data/Golden_Sneaker/src/redux/reducers/cartReducer/cartReducer.js"],"sourcesContent":["import * as Types from \"../../types/cartTypes\";\n\nconst initialState = {\n  //SSR\n  cart: JSON.parse(localStorage.getItem(\"cart\"))?.cart ? JSON.parse(localStorage.getItem(\"cart\"))?.cart : [],\n\n  //CSR\n  scroll: false\n};\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case Types.SET_CART:\n        return {\n            ...state,\n            cart: [...state.cart, ...action.payload.data.data]\n        }\n    case Types.ADD_TO_CART:\n      localStorage.setItem(\"cart\", JSON.stringify({\n        ...state,\n        cart: [...state.cart, action.payload.data]\n      }));\n      return {\n        ...state,\n        cart: [...state.cart, action.payload.data],\n      };\n    case Types.UPDATE.increase:\n      let _cart = [...state.cart];\n      _cart[action.payload.data.index] = action.payload.data.data;\n      localStorage.setItem(\"cart\", JSON.stringify({\n        ...state,\n        cart: _cart,\n      }));\n      return {\n        ...state,\n        cart: _cart,\n      };\n    case Types.UPDATE.decrease:\n      let __cart = [...state.cart];\n      __cart[action.payload.data.index] = action.payload.data.data;\n      localStorage.setItem(\"cart\", JSON.stringify({\n        ...state,\n        cart: __cart,\n      }))\n      return {\n        ...state,\n        cart: __cart,\n      };\n    case Types.DELETE:\n      let ___cart = [...state.cart];\n      ___cart.splice(action.payload.index, 1);\n      localStorage.setItem(\"cart\", JSON.stringify({\n        ...state,\n        cart: ___cart,\n      }))\n      return {\n        ...state,\n        cart: ___cart,\n      };\n    case Types.SET_SCROLL:\n        return {\n            ...state,\n            scroll: action.payload.toggle\n        }\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n"],"mappings":"8SAAA,MAAO,GAAKA,MAAK,KAAM,uBAAuB,CAE9C,GAAMC,aAAY,CAAG,CACnB;AACAC,IAAI,CAAE,aAAAC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,gCAAxC,YAA0CJ,IAAI,eAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,uCAAxC,aAA0CJ,IAAI,CAAG,EAAE,CAE1G;AACAK,MAAM,CAAE,KACV,CAAC,CACD,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAqC,IAAjCC,MAAK,2DAAGR,YAAY,IAAES,OAAM,2CAC/C,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAKX,MAAK,CAACY,QAAQ,CACf,sCACOH,KAAK,MACRP,IAAI,8BAAMO,KAAK,CAACP,IAAI,qBAAKQ,MAAM,CAACG,OAAO,CAACC,IAAI,CAACA,IAAI,EAAC,GAE1D,IAAKd,MAAK,CAACe,WAAW,CACpBV,YAAY,CAACW,OAAO,CAAC,MAAM,CAAEb,IAAI,CAACc,SAAS,gCACtCR,KAAK,MACRP,IAAI,8BAAMO,KAAK,CAACP,IAAI,GAAEQ,MAAM,CAACG,OAAO,CAACC,IAAI,EAAC,GAC1C,CAAC,CACH,sCACKL,KAAK,MACRP,IAAI,8BAAMO,KAAK,CAACP,IAAI,GAAEQ,MAAM,CAACG,OAAO,CAACC,IAAI,EAAC,GAE9C,IAAKd,MAAK,CAACkB,MAAM,CAACC,QAAQ,CACxB,GAAIC,MAAK,oBAAOX,KAAK,CAACP,IAAI,CAAC,CAC3BkB,KAAK,CAACV,MAAM,CAACG,OAAO,CAACC,IAAI,CAACO,KAAK,CAAC,CAAGX,MAAM,CAACG,OAAO,CAACC,IAAI,CAACA,IAAI,CAC3DT,YAAY,CAACW,OAAO,CAAC,MAAM,CAAEb,IAAI,CAACc,SAAS,gCACtCR,KAAK,MACRP,IAAI,CAAEkB,KAAK,GACX,CAAC,CACH,sCACKX,KAAK,MACRP,IAAI,CAAEkB,KAAK,GAEf,IAAKpB,MAAK,CAACkB,MAAM,CAACI,QAAQ,CACxB,GAAIC,OAAM,oBAAOd,KAAK,CAACP,IAAI,CAAC,CAC5BqB,MAAM,CAACb,MAAM,CAACG,OAAO,CAACC,IAAI,CAACO,KAAK,CAAC,CAAGX,MAAM,CAACG,OAAO,CAACC,IAAI,CAACA,IAAI,CAC5DT,YAAY,CAACW,OAAO,CAAC,MAAM,CAAEb,IAAI,CAACc,SAAS,gCACtCR,KAAK,MACRP,IAAI,CAAEqB,MAAM,GACZ,CAAC,CACH,sCACKd,KAAK,MACRP,IAAI,CAAEqB,MAAM,GAEhB,IAAKvB,MAAK,CAACwB,MAAM,CACf,GAAIC,QAAO,oBAAOhB,KAAK,CAACP,IAAI,CAAC,CAC7BuB,OAAO,CAACC,MAAM,CAAChB,MAAM,CAACG,OAAO,CAACQ,KAAK,CAAE,CAAC,CAAC,CACvChB,YAAY,CAACW,OAAO,CAAC,MAAM,CAAEb,IAAI,CAACc,SAAS,gCACtCR,KAAK,MACRP,IAAI,CAAEuB,OAAO,GACb,CAAC,CACH,sCACKhB,KAAK,MACRP,IAAI,CAAEuB,OAAO,GAEjB,IAAKzB,MAAK,CAAC2B,UAAU,CACjB,sCACOlB,KAAK,MACRF,MAAM,CAAEG,MAAM,CAACG,OAAO,CAACe,MAAM,GAGrC,QACE,MAAOnB,MAAK,CAAC,CAEnB,CAAC,CAED,cAAeD,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}